<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Birthday âœ¨</title>
  <meta name="description" content="A professional, smooth, unique birthday website with cool transitions." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0b0f1a;
      --card: rgba(255,255,255,0.08);
      --glass: rgba(255,255,255,0.12);
      --accent: #7c9cff;
      --accent-2: #ff8bd5;
      --text: #e9ecf1;
      --muted: #aab0c0;
      --radius: 20px;
      --blur: 14px;
      --shadow: 0 20px 50px rgba(0,0,0,.35);
    }

    *{ box-sizing: border-box; }
    html{ scroll-behavior: smooth; }
    body{
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: var(--text);
      background: radial-gradient(1200px 600px at 10% -10%, rgba(124,156,255,.18), transparent 40%),
                  radial-gradient(800px 500px at 110% 10%, rgba(255,139,213,.16), transparent 40%),
                  var(--bg);
      overflow-x: hidden;
    }

    /* Ambient animated blobs */
    .blob{ position: fixed; inset: auto; width: 40vmax; height: 40vmax; filter: blur(60px); opacity:.25; pointer-events:none; mix-blend: screen; animation: float 18s linear infinite; }
    .blob.one{ background: radial-gradient(circle at 30% 30%, #7c9cff, transparent 60%); top:-10vmax; left:-10vmax; }
    .blob.two{ background: radial-gradient(circle at 70% 30%, #ff8bd5, transparent 60%); bottom:-10vmax; right:-10vmax; animation-duration: 22s; }
    @keyframes float{ 0%{ transform: translateY(0) translateX(0) scale(1);} 50%{ transform: translateY(40px) translateX(30px) scale(1.05);} 100%{ transform: translateY(0) translateX(0) scale(1);} }

    header{
      min-height: 100svh;
      display: grid;
      place-items: center;
      padding: clamp(24px, 4vw, 64px);
      position: relative;
    }

    .hero{
      max-width: 1100px;
      width: 100%;
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.02));
      backdrop-filter: blur(var(--blur));
      border: 1px solid rgba(255,255,255,.2);
      border-radius: calc(var(--radius) + 8px);
      box-shadow: var(--shadow);
      padding: clamp(28px, 5vw, 72px);
      display: grid;
      grid-template-columns: 1.2fr .8fr;
      gap: clamp(24px, 4vw, 56px);
      overflow: hidden;
    }

    .hero h1{
      font-family: "Playfair Display", serif;
      font-size: clamp(36px, 6vw, 72px);
      line-height: 1.05;
      margin: 0 0 12px;
      letter-spacing: .3px;
    }
    .hero p{ color: var(--muted); max-width: 52ch; }

    .cta{
      margin-top: 28px;
      display: inline-flex; gap: 10px; align-items: center;
      padding: 12px 18px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: #0b0f1a; font-weight: 700; text-decoration: none;
      box-shadow: 0 10px 30px rgba(124,156,255,.45);
      transform: translateZ(0);
      transition: transform .35s ease, box-shadow .35s ease, filter .35s ease;
    }
    .cta:hover{ transform: translateY(-3px) scale(1.02); box-shadow: 0 18px 40px rgba(124,156,255,.6); filter: saturate(1.1); }

    .hero-card{
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.04));
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.22);
      padding: 18px;
      display: grid; gap: 14px;
    }
    .stat{ display: grid; gap: 6px; padding: 14px; border-radius: 14px; background: rgba(255,255,255,.08); }
    .stat strong{ font-size: 28px; }

    main{ scroll-snap-type: y mandatory; }
    section{
      min-height: 100svh;
      display: grid; place-items: center;
      padding: clamp(24px, 4vw, 64px);
      scroll-snap-align: start;
      position: relative;
    }

    .panel{
      max-width: 1100px; width: 100%;
      background: var(--card);
      backdrop-filter: blur(var(--blur));
      border: 1px solid rgba(255,255,255,.2);
      border-radius: calc(var(--radius) + 6px);
      box-shadow: var(--shadow);
      padding: clamp(24px, 5vw, 64px);
      display: grid; grid-template-columns: 1fr; gap: clamp(18px, 4vw, 48px);
      transform: translateY(24px) scale(.98);
      opacity: 0;
      transition: transform .9s cubic-bezier(.2,.7,0,1), opacity .9s ease;
    }
    .panel.visible{ transform: none; opacity: 1; }

    .eyebrow{ letter-spacing: .18em; text-transform: uppercase; color: var(--accent); font-weight: 700; text-align: center; }
    .title{ font-family: "Playfair Display", serif; font-size: clamp(28px, 5vw, 48px); margin: 10px 0 8px; text-align: center; }
    .copy {
      max-width: 100%;
      width: 100%;
      line-height: 1.8;
      text-align: center;
      color: var(--muted);
      text-align: justify;
    }


    .art{
      position: relative; border-radius: var(--radius); overflow: hidden;
      background: radial-gradient(120% 100% at 10% 10%, rgba(124,156,255,.35), transparent 40%),
                  radial-gradient(120% 100% at 90% 10%, rgba(255,139,213,.35), transparent 40%),
                  linear-gradient(135deg, rgba(255,255,255,.18), rgba(255,255,255,.04));
      border: 1px solid rgba(255,255,255,.2);
      aspect-ratio: 16/9;
      width: 100%;
      height: auto;
    }
    .shine{ position:absolute; inset:-40%; background: linear-gradient(120deg, transparent 45%, rgba(255,255,255,.25), transparent 55%); transform: rotate(8deg); animation: shine 4s ease-in-out infinite; }
    @keyframes shine{ 0%{ transform: translateX(-60%) rotate(8deg);} 50%{ transform: translateX(60%) rotate(8deg);} 100%{ transform: translateX(-60%) rotate(8deg);} }

    /* ============ NEW CAROUSEL STYLES ============ */
    .carousel-panel {
      max-width: 1400px;
      width: 100%;
      background: var(--card);
      backdrop-filter: blur(var(--blur));
      border: 1px solid rgba(255,255,255,.2);
      border-radius: calc(var(--radius) + 6px);
      box-shadow: var(--shadow);
      padding: clamp(24px, 5vw, 64px);
      display: grid;
      gap: clamp(24px, 4vw, 40px);
      transform: translateY(24px) scale(.98);
      opacity: 0;
      transition: transform .9s cubic-bezier(.2,.7,0,1), opacity .9s ease;
    }
    .carousel-panel.visible{ transform: none; opacity: 1; }

    .carousel-header {
      text-align: center;
    }

    .carousel-container {
      position: relative;
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
      aspect-ratio: 16/10;
      overflow: hidden;
      border-radius: var(--radius);
      background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.25);
      box-shadow: var(--shadow);
    }

    .carousel-track {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .carousel-slide {
      position: absolute;
      width: 100%;
      height: 100%;
      flex-shrink: 0;
      opacity: 0;
      transform: scale(0.92);
      transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                  transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
    }

    .carousel-slide.active {
      opacity: 1;
      transform: scale(1);
      pointer-events: all;
      z-index: 2;
    }

    .carousel-slide img,
    .carousel-slide video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: var(--radius);
    }

    .carousel-caption {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 24px 32px;
      background: linear-gradient(to top, rgba(11,15,26,0.95), transparent);
      backdrop-filter: blur(8px);
      border-bottom-left-radius: var(--radius);
      border-bottom-right-radius: var(--radius);
      transform: translateY(100%);
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .carousel-slide.active .carousel-caption {
      transform: translateY(0);
    }

    .carousel-caption p {
      margin: 0;
      font-size: clamp(14px, 2vw, 16px);
      color: var(--text);
      text-shadow: 0 2px 8px rgba(0,0,0,0.6);
    }

    .carousel-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 52px;
      height: 52px;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(255,255,255,.18), rgba(255,255,255,.08));
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,.3);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 8px 24px rgba(0,0,0,.3);
    }

    .carousel-nav:hover {
      background: linear-gradient(135deg, rgba(255,255,255,.28), rgba(255,255,255,.15));
      transform: translateY(-50%) scale(1.08);
      box-shadow: 0 12px 32px rgba(124,156,255,.4);
    }

    .carousel-nav:active {
      transform: translateY(-50%) scale(0.95);
    }

    .carousel-nav.prev {
      left: 20px;
    }

    .carousel-nav.next {
      right: 20px;
    }

    .carousel-nav svg {
      width: 24px;
      height: 24px;
      stroke: var(--text);
      stroke-width: 2.5;
      stroke-linecap: round;
      stroke-linejoin: round;
      fill: none;
    }

    .carousel-indicators {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 24px;
    }

    .carousel-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255,255,255,.25);
      border: 1px solid rgba(255,255,255,.35);
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .carousel-dot.active {
      width: 32px;
      border-radius: 5px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 4px 12px rgba(124,156,255,.5);
    }

    .carousel-dot:hover:not(.active) {
      background: rgba(255,255,255,.45);
      transform: scale(1.15);
    }

    @media (max-width: 860px) {
      .carousel-nav {
        width: 44px;
        height: 44px;
      }
      .carousel-nav.prev {
        left: 12px;
      }
      .carousel-nav.next {
        right: 12px;
      }
      .carousel-nav svg {
        width: 20px;
        height: 20px;
      }
      .carousel-caption {
        padding: 18px 20px;
      }
    }
    /* ============ END CAROUSEL STYLES ============ */

    /* Footer finale */
    .finale{
      text-align: center;
      display: grid; gap: 16px; place-items: center;
      position: relative;
      height: 100%;
      overflow: hidden;
    }
    .finale h2{ font-family: "Playfair Display", serif; font-size: clamp(34px, 6vw, 64px); margin: 0; }

    /* Reveal button styling */
    .reveal-btn{
      margin-top: 20px;
      display: inline-flex;
      gap: 10px;
      align-items: center;
      padding: 16px 32px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: #0b0f1a;
      font-weight: 700;
      font-size: 18px;
      text-decoration: none;
      border: none;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(124,156,255,.45);
      transform: translateZ(0);
      transition: transform .35s ease, box-shadow .35s ease, filter .35s ease;
    }
    .reveal-btn:hover{
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 18px 40px rgba(124,156,255,.6);
      filter: saturate(1.1);
    }
    .reveal-btn:active{
      transform: translateY(-1px) scale(0.98);
    }

    /* --- Final surprise: photo + typing note --- */
    .finale-container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
      padding: 2rem;
    }
    .section-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;       /* Crops to fill square */
        object-position: center; /* Centers the crop */
        z-index: 1;
    }
    .finale-initial {
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.6s ease, transform 0.6s ease;
      text-align: center;
    }
    
    .finale-surprise {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 30px;
      opacity: 0;
      transform: scale(0.95);
      transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
      pointer-events: none;
      padding: 2rem;
      text-align: center;
    }
    
    .finale.reveal-active .finale-initial {
      opacity: 0;
      transform: scale(0.95);
      pointer-events: none;
    }
    
    .finale.reveal-active .finale-surprise {
      opacity: 1;
      transform: scale(1);
      pointer-events: all;
    }

    .young-photo {
      width: 280px;
      max-width: 80%;
      border-radius: 24px;
      box-shadow: 0 25px 50px -8px rgba(0,0,0,0.6), 0 0 0 2px rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.4);
      transform: scale(0.8) rotate(-2deg);
      opacity: 0;
      transition: transform 0.9s cubic-bezier(0.17, 0.67, 0.12, 1.02), opacity 0.9s ease;
    }
    .young-photo.pop {
      transform: scale(1) rotate(0);
      opacity: 1;
    }

    .typing-wrapper {
      font-family: "Playfair Display", serif;
      font-size: clamp(22px, 4vw, 32px);
      font-weight: 500;
      color: var(--text);
      max-width: 700px;
      margin: 0 auto;
      text-align: center;
      text-shadow: 0 0 12px rgba(124,156,255,0.25);
      background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
      padding: 24px 36px;
      border-radius: 60px;
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255,255,255,0.12);
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.8s ease 0.2s, transform 0.8s ease 0.2s;
    }
    .typing-wrapper.show {
      opacity: 1;
      transform: translateY(0);
    }
    
    .typing-cursor {
      display: inline-block;
      width: 2px;
      background-color: var(--accent);
      margin-left: 2px;
      animation: blink 1s infinite;
    }
    
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    /* Sparkles & fireworks base (global) */
    .sparkles-wrapper{
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 10;
    }
    .sparkle{
      position: absolute;
      width: 4px;
      height: 4px;
      background: white;
      border-radius: 50%;
      box-shadow: 0 0 10px rgba(255,255,255,.8);
      animation: sparkleFloat 3s ease-in-out infinite;
    }
    @keyframes sparkleFloat{
      0%, 100%{ transform: translateY(0) scale(0); opacity: 0; }
      10%{ opacity: 1; transform: translateY(-10px) scale(1); }
      90%{ opacity: .6; transform: translateY(-80px) scale(.8); }
      100%{ opacity: 0; transform: translateY(-100px) scale(0); }
    }
    .firework{
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      animation: fireworkExplode 1.5s ease-out forwards;
    }
    @keyframes fireworkExplode{
      0%{ transform: translate(0, 0) scale(1); opacity: 1; }
      100%{ transform: translate(var(--x), var(--y)) scale(0); opacity: 0; }
    }

    canvas#confetti{ position: fixed; inset: 0; pointer-events: none; z-index: 9999; }

    @media (max-width: 860px){
      .hero{ grid-template-columns: 1fr; }
      .hero-card{ order: -1; }
      .young-photo { width: 220px; }
      .finale-container {
        padding: 1rem;
      }
    }
    
    /* Panel animation for finale section */
    .finale .panel {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    .finale.reveal-active .panel {
      border-radius: 16px;
      transform: scale(1.02);
      box-shadow: 0 25px 60px rgba(0,0,0,.45), 
                  0 0 40px rgba(124,156,255,0.25),
                  0 0 50px rgba(255,139,213,0.25);
    }

    /* ============ PARTY MODE STYLES ============ */
    .party-section {
      min-height: 100svh;
      display: grid;
      place-items: center;
      padding: clamp(24px, 4vw, 64px);
      position: relative;
      text-align: center;
    }

    .party-btn {
      margin-top: 40px;
      display: inline-flex;
      gap: 10px;
      align-items: center;
      padding: 20px 48px;
      border-radius: 999px;
      background: linear-gradient(135deg, #ff6b6b, #ffd93d);
      color: #0b0f1a;
      font-weight: 800;
      font-size: 24px;
      text-decoration: none;
      border: none;
      cursor: pointer;
      box-shadow: 0 15px 40px rgba(255,107,107,.5);
      transform: translateZ(0);
      transition: transform .35s ease, box-shadow .35s ease;
      animation: partyPulse 2s ease-in-out infinite;
    }

    .party-btn:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 25px 50px rgba(255,107,107,.7);
    }

    @keyframes partyPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    /* Party mode active state */
    body.party-mode {
      animation: hueShift 3s linear infinite;
    }

    @keyframes hueShift {
      0% { filter: hue-rotate(0deg) saturate(1.5); }
      100% { filter: hue-rotate(360deg) saturate(1.5); }
    }

    body.party-mode * {
      animation: partyChaos 3s ease-in-out infinite !important;
    }

    body.party-mode h1,
    body.party-mode h2,
    body.party-mode .title {
      animation: textSpin 4s linear infinite !important;
    }

    body.party-mode img,
    body.party-mode .art,
    body.party-mode .hero-card {
      animation: imageFloat 2.5s ease-in-out infinite !important;
    }

    body.party-mode .panel,
    body.party-mode .hero {
      animation: panelBounce 2s ease-in-out infinite !important;
    }

    body.party-mode p,
    body.party-mode .copy {
      animation: textWave 3s ease-in-out infinite !important;
    }

    @keyframes partyChaos {
      0%, 100% { 
        transform: rotate(0deg) scale(1) translateY(0);
      }
      25% { 
        transform: rotate(10deg) scale(1.1) translateY(-20px);
      }
      50% { 
        transform: rotate(-10deg) scale(0.9) translateY(20px);
      }
      75% { 
        transform: rotate(5deg) scale(1.05) translateY(-10px);
      }
    }

    @keyframes textSpin {
      0% { transform: rotate(0deg) scale(1); }
      25% { transform: rotate(180deg) scale(1.2); }
      50% { transform: rotate(360deg) scale(0.8); }
      75% { transform: rotate(540deg) scale(1.1); }
      100% { transform: rotate(720deg) scale(1); }
    }

    @keyframes imageFloat {
      0%, 100% { 
        transform: translateY(0) rotate(0deg) scale(1);
      }
      33% { 
        transform: translateY(-30px) rotate(120deg) scale(1.2);
      }
      66% { 
        transform: translateY(30px) rotate(-120deg) scale(0.9);
      }
    }

    @keyframes panelBounce {
      0%, 100% { 
        transform: scale(1) translateX(0);
      }
      25% { 
        transform: scale(1.1) translateX(20px);
      }
      50% { 
        transform: scale(0.95) translateX(-20px);
      }
      75% { 
        transform: scale(1.05) translateX(10px);
      }
    }

    @keyframes textWave {
      0%, 100% { 
        transform: translateY(0) skewX(0deg);
      }
      25% { 
        transform: translateY(-15px) skewX(5deg);
      }
      50% { 
        transform: translateY(15px) skewX(-5deg);
      }
      75% { 
        transform: translateY(-10px) skewX(3deg);
      }
    }

    .stop-party-btn {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 99999;
      padding: 24px 64px;
      font-size: 28px;
      font-weight: 800;
      background: linear-gradient(135deg, #ff4757, #ff6348);
      color: white;
      border: 4px solid white;
      border-radius: 999px;
      cursor: pointer;
      box-shadow: 0 20px 60px rgba(255,71,87,.8);
      animation: stopPulse 1s ease-in-out infinite;
      display: none;
    }

    body.party-mode .stop-party-btn {
      display: block;
      animation: stopPulse 1s ease-in-out infinite !important;
    }

    @keyframes stopPulse {
      0%, 100% { 
        transform: translate(-50%, -50%) scale(1);
        box-shadow: 0 20px 60px rgba(255,71,87,.8);
      }
      50% { 
        transform: translate(-50%, -50%) scale(1.1);
        box-shadow: 0 30px 80px rgba(255,71,87,1);
      }
    }

    /* Floating party emojis */
    .party-emoji {
      position: fixed;
      font-size: 40px;
      pointer-events: none;
      z-index: 9998;
      animation: floatEmoji 10s ease-in-out infinite;
    }

    @keyframes floatEmoji {
      0% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 1;
      }
      25% {
        transform: translate(100px, -150px) rotate(90deg) scale(1.2);
        opacity: 1;
      }
      50% {
        transform: translate(-50px, -300px) rotate(180deg) scale(0.9);
        opacity: 1;
      }
      75% {
        transform: translate(150px, -150px) rotate(270deg) scale(1.1);
        opacity: 1;
      }
      100% {
        transform: translate(0, 0) rotate(360deg) scale(1);
        opacity: 1;
      }
    }
    /* ============ END PARTY MODE STYLES ============ */
  </style>
</head>
<body>
  <div class="blob one"></div>
  <div class="blob two"></div>
  <canvas id="confetti"></canvas>

  <!-- Stop Party Button (hidden by default) -->
  <button class="stop-party-btn" id="stopPartyBtn">ðŸ›‘ STOP THE PARTY!</button>

  <header id="top">
    <div class="hero">
      <div>
        <span class="eyebrow">February 13, 2026</span>
        <h1>Happy Birthday to my Favorite Asian Rice</h1>
        <p>
            Take this small gift I made to celebrate your day. It's not much, but it was made with care and love just for you. You've been nothing but the best to me, and I hope you always remind yourself of that. Happy Birthday, bitch!
        </p>
        <audio id="bgm" src="Ribs.mp3" loop></audio>
        <audio id="partyMusic" src="party.mp3" loop></audio>
        <a class="cta" href="#section-1" onclick="bgm.paused && bgm.play()">Click Me to Begin the Journey â†’</a>
      </div>
      <div class="hero-card">
        <div class="stat"><strong>âˆž</strong><span class="muted">Reasons to celebrate you</span></div>
        <div class="stat"><strong>365</strong><span class="muted">New chances this year</span></div>
        <div class="stat"><strong>1</strong><span class="muted">The Best Jasmine La in the World</span></div>
      </div>
    </div>
  </header>

  <main>
    <section id="section-1">
      <div class="panel reveal">
        <div class="art">
            <img src="sec1.jpg" alt="Cadet" class="section-image">
        <div class="shine"></div></div>
        <div>
          <span class="eyebrow">Section One</span>
          <h2 class="title">Grateful For Meeting a Person Like You</h2>
          <p class="copy">
            Years ago, when we first met, I used to think you'd be one of those people I'd talk to and then just drift away from on some random Tuesday evening. But for some reason, you were different. You stayed. And you stayed. And you stayed.
            I hope you know how truly grateful I am to have met someone like you. Someone who listens, someone I can go to, someone I can trust, someone who never judges me no matter how weird I get, and of course, someone I can call a friend. I know it sounds clichÃ©, but it is true. You are honestly one of the best people I have ever met in my life, and I do not think you realize just how much I appreciate you.
            Who would have thought I would trust my life with someone I met online? That is how much you mean to me. I hope you know this, and I hope you remind yourself every day, or maybe every week or month, that even if we do not talk as much, you are still the same person I met years ago. I am grateful for you, today and every day.
            I respect you to the highest level, to the point that I would be willing to take a bullet for you. And if you asked me why I am so grateful for you, the honest answer is that I really do not know how to explain it.
            There is this saying in ethics that the word "good" is indefinable, kind of like how we define the color yellow. You can recognize yellow when you see it, and you understand what "good" means when you think about it, but you cannot explain either using simpler words or break them into parts.
            So if you ask me again why I am grateful for you, I can feel why, but I cannot explain it in simple words. What I do know is that knowing you has made my life better, and having you in it is something I will never take for granted. No matter where life takes us or how often we talk, you will always matter to me.
          </p>
        </div>
      </div>
    </section>

    <section id="section-2">
      <div class="panel reveal">
        <div class="art">
            <img src="sec2.jpg" alt="Cadet" class="section-image">
        <div class="shine"></div></div>
        <div>
          <span class="eyebrow">Section Two</span>
          <h2 class="title">Never Stop Chasing Your Dreams</h2>
          <p class="copy">
            Now that you're a year older, you can see how life works, how priorities change, and how the things we used to love can become the things we barely do, while the dreams we once had sometimes start to fade. I hope you never forget to keep chasing yours. Life gets hard, and there will always be obstacles, but always remind yourself not to
            let them get the best of you. Never stop believing in yourself, and never let your dreams fade away. I remember back when we were teens, you told me how you wanted to be a pilot. Always hold on to those small, little things that remind you of what makes you you. And for your birthday, my wish for you is that all your dreams and wishes come true. Whatever they may be, always know I'll be here cheering you on every step of the way.
          </p>
        </div>
      </div>
    </section>

    <section id="section-3">
      <div class="panel reveal">
        <div class="art">
             <img src="joj.png" alt="Cadet" class="section-image">
        <div class="shine"></div></div>
        <div>
          <span class="eyebrow">Section Three</span>
          <h2 class="title">Looking Back</h2>
          <p class="copy">
            Looking back, I realize how much we've grown. From being two teenage kids to slowly entering adulthood. From meeting each other as collarvfx and void.haught to now calling each other "bitch" or maybe "whore" sometimes. From graduating high school to now entering the lives we once only talked about. I met you when you were 14, and being able to still talk and update each other sometimes makes me really appreciate the friendship we have.
            Remember the times when all we used to do was edit and gossip about the people around us? The time we created our own TikTok account, but it turned out you were the only one actually using itâ€”AHHAHA. The time you got your car and crashed it. Or the time you got your heart broken and came to me for advice, even when I had no idea how relationships worked. Or the time you got your job in the airlines! Or the time you introduced me to GAP, and I said I'd never watch it, but now I fangirl over Thai actors. The point is, there are so many memories we created, even though we lived so far apart. And what's funny is that you, who lives kilometers away, know me better than my real-life friends.
            Looking back at all of that makes me appreciate you even more. I don't want to be cheesy, but I'm glad I have a Jasmine La in my life. Everyone deserves a Jasmine La in their life. I'm glad I met you, Jasmine, and I'm sure as hell that the people around you are glad they did too.
            <br><br>The point is, I've seen you grow for a quarter of your life. So how about we take a walk down memory lane?
          </p>
        </div>
      </div>
    </section>

    <!-- ============ NEW CAROUSEL SECTION ============ -->
    <section id="carousel-section">
      <div class="carousel-panel reveal">
        <div class="carousel-header">
          <span class="eyebrow">Memory Lane</span>
          <h2 class="title">Captured Moments</h2>
        </div>
        
        <div class="carousel-container">
          <div class="carousel-track" id="carouselTrack">
            <!-- Slide 1 -->
            <div class="carousel-slide active" style="position: relative; display: inline-block;">
              
              <video id="carouselVideo" width="600" style="display: block;">
                <source src="vid.mov" type="video/mp4">
                Your browser does not support the video tag.
              </video>
              
              <!-- Play Button Overlay -->
              <div 
                id="playOverlay" 
                style="
                  position: absolute;
                  top: 50%;
                  left: 50%;
                  transform: translate(-50%, -50%);
                  font-size: 80px;
                  color: rgba(255, 255, 255, 0.8);
                  cursor: pointer;
                  pointer-events: auto;
                "
              >
                â–¶
              </div>
              
              <div class="carousel-caption" style="margin-top: 10px;">
                <p>Do you remember your performances during high school? Believe it or not, you were my idol. One of the reasons I also took the stage and played the bass was because of you! You were such a badass in all your performances.</p>
              </div>
              
            </div>

            
            <!-- Slide 2 -->
            <div class="carousel-slide">
              <img src="girly.PNG" alt="Memory 2">
              <div class="carousel-caption">
                <p>You being all girly! Look at that cute smile! I'm sure Bella is a lucky girl to see you smile like that all the time!</p>
              </div>
            </div>
            
            <!-- Slide 3 -->
            <div class="carousel-slide">
              <img src="crying.png" alt="Memory 3">
              <div class="carousel-caption">
                <p>You crying on Evelyn Hugo of course HAHAHAHA.</p>
              </div>
            </div>
            
            <!-- Slide 4 - Example with video -->
            <div class="carousel-slide">
              <img src="cadet.PNG" alt="Memory photo">
              <div class="carousel-caption">
              <p>You at your ceremony! I remember how happy you were, but also how sad it was because you were leaving. I also remember how you enjoyed torturing the ones below you HAHAHA.</p>
              </div>
            </div>

          </div>
          
          <!-- Navigation Buttons -->
          <button class="carousel-nav prev" id="prevBtn" aria-label="Previous slide">
            <svg viewBox="0 0 24 24">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </button>
          <button class="carousel-nav next" id="nextBtn" aria-label="Next slide">
            <svg viewBox="0 0 24 24">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>
        </div>
        
        <!-- Indicators -->
        <div class="carousel-indicators" id="carouselIndicators"></div>
      </div>
    </section>
    <!-- ============ END CAROUSEL SECTION ============ -->

        <section id="section-4">
      <div class="panel reveal">
        <div class="art">
             <img src="hairless.PNG" alt="Cadet" class="section-image">
        <div class="shine"></div></div>
        <div>
          <span class="eyebrow">Section Four</span>
          <h2 class="title">Thank You for Everything</h2>
          <p class="copy">
            So, thank you, Jasmine. Thank you for being you, and thank you for sharing your light with me. I may not have been the best friendâ€”missing two of your birthdays and forgetting to greet you on other occasionsâ€”but I hope you know how thankful I am for you, and how glad I am that I got to meet someone like you. You truly mean a lot to me.
            Thank you for being a good friend to your friends, even though you always say how much you hate them. Thank you for being a great sister to your siblings, a loving daughter and granddaughter, and, of course, a devoted mom to your cat. Thank you for everything! Life would be different if you weren't in it, so thank you for being a part of my life.
            Thank you for being the Harry Cameron to my Evelyn Hugoâ€”and just like in the book, thank you for making me believe that friendship could be written in the stars.
            I love you, bitch. No Homo. No divorce.
          </p>
        </div>
      </div>
    </section>

    <!-- FINALE â€“ enhanced with smooth reveal -->
    <section id="finale" class="finale">
      <div class="panel reveal finale" id="finalePanel">
        <div class="finale-container">
          <div class="finale-initial">
            <h2>One Last Thing</h2>
            <button class="reveal-btn" id="revealBtn">Reveal The Final Surprise</button>
          </div>
          <div class="finale-surprise" id="finaleSurprise">
            <img class="young-photo" src="jasmine.jpg" alt="Younger Jasmine">
            <div class="typing-wrapper" id="typingEffectContainer"></div>
            <button class="party-btn" id="partyBtn" style="opacity: 0; transform: translateY(20px); transition: opacity 0.8s ease, transform 0.8s ease;">ðŸŽŠ Ready to Party? ðŸŽŠ</button>
          </div>
        </div>
      </div>

      <!-- Sparkles container inside finale -->
      <div id="fireworksGlobalContainer" class="sparkles-wrapper"></div>
    </section>


  </main>

  <script>

    const video = document.getElementById('carouselVideo');
    const playOverlay = document.getElementById('playOverlay');
    const bgm = document.getElementById('bgm');
    const partyMusic = document.getElementById('partyMusic');

    playOverlay.addEventListener('click', () => {
      video.play();
      playOverlay.style.display = 'none'; // hide the triangle when playing
      bgm.pause(); // pause background music when video plays
    });

    video.addEventListener('pause', () => {
      playOverlay.style.display = 'block'; // show triangle if video is paused
    });

    video.addEventListener('ended', () => {
      bgm.play(); // resume background music when video ends
    });

    // ---------- Scroll reveal ----------
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(e => e.isIntersecting && e.target.classList.add('visible'));
    }, { threshold: .25 });
    document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

    // ---------- Confetti ----------
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let w, h, particles = [], running = false;
    const colors = ['#7c9cff', '#ff8bd5', '#ffffff'];

    function resize(){ w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
    window.addEventListener('resize', resize); resize();

    function spawn(n=120){
      for(let i=0;i<n;i++){
        particles.push({
          x: Math.random()*w,
          y: h + Math.random()*200,
          vx: (Math.random()-.5)*2,
          vy: - (2 + Math.random()*4),
          r: 2 + Math.random()*3,
          c: colors[Math.floor(Math.random()*colors.length)],
          life: 120 + Math.random()*60
        });
      }
    }

    function tick(){
      if(!running) return;
      ctx.clearRect(0,0,w,h);
      particles.forEach(p => {
        p.x += p.vx; p.y += p.vy; p.vy += 0.03; p.life--;
        ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fillStyle = p.c; ctx.fill();
      });
      particles = particles.filter(p => p.life > 0 && p.y < h + 20);
      requestAnimationFrame(tick);
    }

    // ---------- Fireworks & sparkles ----------
    function createFireworks(containerId = 'fireworksGlobalContainer', burstCount = 6) {
      const container = document.getElementById(containerId);
      if (!container) return;
      const fireworkColors = ['#7c9cff', '#ff8bd5', '#ffffff', '#ffd700'];
      
      for (let i = 0; i < burstCount; i++) {
        setTimeout(() => {
          const centerX = Math.random() * 80 + 10;
          const centerY = Math.random() * 60 + 20;
          
          for (let j = 0; j < 16; j++) {
            const firework = document.createElement('div');
            firework.className = 'firework';
            firework.style.left = centerX + '%';
            firework.style.top = centerY + '%';
            firework.style.background = fireworkColors[Math.floor(Math.random() * fireworkColors.length)];
            
            const angle = (j / 16) * Math.PI * 2;
            const distance = 80 + Math.random() * 180;
            firework.style.setProperty('--x', Math.cos(angle) * distance + 'px');
            firework.style.setProperty('--y', Math.sin(angle) * distance + 'px');
            
            container.appendChild(firework);
            setTimeout(() => firework.remove(), 1500);
          }
        }, i * 300 + 200);
      }
    }

    function createSparkles(containerId = 'fireworksGlobalContainer', count = 40) {
      const container = document.getElementById(containerId);
      if (!container) return;
      for (let i = 0; i < count; i++) {
        setTimeout(() => {
          const sparkle = document.createElement('div');
          sparkle.className = 'sparkle';
          sparkle.style.left = Math.random() * 100 + '%';
          sparkle.style.top = Math.random() * 100 + '%';
          sparkle.style.animationDelay = Math.random() * 2 + 's';
          container.appendChild(sparkle);
          setTimeout(() => sparkle.remove(), 3000);
        }, i * 80);
      }
    }

    // ---------- Typing effect ----------
    function typeWriter(element, text, speed = 80, callback) {
      let i = 0;
      element.innerHTML = '';
      const cursorSpan = document.createElement('span');
      cursorSpan.className = 'typing-cursor';
      cursorSpan.innerHTML = '|';
      
      function type() {
        if (i < text.length) {
          element.innerHTML += text.charAt(i);
          i++;
          setTimeout(type, speed);
        } else {
          element.appendChild(cursorSpan);
          if (callback) callback();
        }
      }
      type();
    }

    // ============ CAROUSEL FUNCTIONALITY ============
    const carouselTrack = document.getElementById('carouselTrack');
    const slides = Array.from(document.querySelectorAll('.carousel-slide'));
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const indicatorsContainer = document.getElementById('carouselIndicators');
    
    let currentSlide = 0;
    const totalSlides = slides.length;

    // Create indicators
    slides.forEach((_, index) => {
      const dot = document.createElement('div');
      dot.className = 'carousel-dot';
      if (index === 0) dot.classList.add('active');
      dot.addEventListener('click', () => goToSlide(index));
      indicatorsContainer.appendChild(dot);
    });

    const dots = Array.from(document.querySelectorAll('.carousel-dot'));

    function updateCarousel() {
      // Update slides
      slides.forEach((slide, index) => {
        slide.classList.remove('active');
        if (index === currentSlide) {
          slide.classList.add('active');
          
          // Auto-play video if it's the active slide
          const video = slide.querySelector('video');
          if (video) {
            video.currentTime = 0;
            video.play().catch(() => {}); // Ignore autoplay errors
          }
        } else {
          // Pause video if not active
          const video = slide.querySelector('video');
          if (video) {
            video.pause();
          }
        }
      });

      // Update indicators
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlide);
      });

      // Hide navigation buttons on the last slide
      if (currentSlide === totalSlides - 1) {
        nextBtn.style.display = 'none';
        prevBtn.style.display = 'none';
      } else {
        nextBtn.style.display = 'flex';
        prevBtn.style.display = 'flex';
      }
    }

    function nextSlide() {
      currentSlide = (currentSlide + 1) % totalSlides;
      updateCarousel();
    }

    function prevSlide() {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      updateCarousel();
    }

    function goToSlide(index) {
      currentSlide = index;
      updateCarousel();
    }

    // Event listeners
    nextBtn.addEventListener('click', nextSlide);
    prevBtn.addEventListener('click', prevSlide);

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      const carouselSection = document.getElementById('carousel-section');
      const rect = carouselSection.getBoundingClientRect();
      const isInView = rect.top < window.innerHeight && rect.bottom >= 0;
      
      if (isInView) {
        if (e.key === 'ArrowLeft') prevSlide();
        if (e.key === 'ArrowRight') nextSlide();
      }
    });

    // Touch/swipe support
    let touchStartX = 0;
    let touchEndX = 0;

    carouselTrack.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
    }, { passive: true });

    carouselTrack.addEventListener('touchend', (e) => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    }, { passive: true });

    function handleSwipe() {
      const swipeThreshold = 50;
      if (touchEndX < touchStartX - swipeThreshold) {
        nextSlide();
      }
      if (touchEndX > touchStartX + swipeThreshold) {
        prevSlide();
      }
    }
    // ============ END CAROUSEL FUNCTIONALITY ============

    // ---------- Finale reveal ----------
    document.getElementById('revealBtn').addEventListener('click', function() {
      const finalePanel = document.getElementById('finalePanel');
      const photo = document.querySelector('.young-photo');
      const typingContainer = document.getElementById('typingEffectContainer');
      const partyBtn = document.getElementById('partyBtn');
      
      // Add active class to trigger panel expansion and content transition
      finalePanel.classList.add('reveal-active');
      
      // After the initial transition, animate the photo
      setTimeout(() => {
        photo.classList.add('pop');
        
        // After photo animation, start typing effect
        setTimeout(() => {
          const fullMessage = 'Younger you would be proud of the person you have become. Happy Birthday!';
          typeWriter(typingContainer, fullMessage, 2, () => {
            typingContainer.classList.add('show');
            
            // After typing completes, trigger celebrations
            setTimeout(() => {
              createFireworks('fireworksGlobalContainer', 10);
              createSparkles('fireworksGlobalContainer', 80);
              spawn(400);
              if (!running) { running = true; tick(); }
              
              // Show party button after celebrations
              setTimeout(() => {
                partyBtn.style.opacity = '1';
                partyBtn.style.transform = 'translateY(0)';
              }, 1000);
            }, 400);
          });
        }, 400);
      }, 650);
    });

    // ============ PARTY MODE FUNCTIONALITY ============
    const partyBtn = document.getElementById('partyBtn');
    const stopPartyBtn = document.getElementById('stopPartyBtn');

    // Function to create floating emojis
    function createPartyEmojis() {
      const emojis = ['ðŸ¹', 'ðŸŽ‰', 'ðŸ¸', 'ðŸ¥‚', 'ðŸ¾', 'ðŸŽˆ', 'ðŸ¥³'];
      const emoji = document.createElement('div');
      emoji.className = 'party-emoji';
      emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      emoji.style.left = Math.random() * 90 + 'vw';
      emoji.style.top = Math.random() * 90 + 'vh';
      emoji.style.animationDuration = (8 + Math.random() * 4) + 's';
      emoji.style.animationDelay = Math.random() * 2 + 's';
      document.body.appendChild(emoji);
      
      // Don't remove emojis - let them keep floating
    }

    let emojiInterval;
    let confettiInterval;
    let fireworksInterval;

    partyBtn.addEventListener('click', function() {
      // Scroll to the very top
      window.scrollTo({ top: 0, behavior: 'smooth' });
      
      // Activate party mode after a short delay to let scroll start
      setTimeout(() => {
        document.body.classList.add('party-mode');
        
        // Switch music - make sure bgm is paused and party music plays
        bgm.pause();
        bgm.currentTime = 0;
        partyMusic.currentTime = 0;
        partyMusic.play().catch(err => console.log('Party music play error:', err));
        
        // Trigger MASSIVE initial confetti
        spawn(1500);
        if (!running) { 
          running = true; 
          tick(); 
        }
        
        // Continuous heavy confetti
        confettiInterval = setInterval(() => {
          if (document.body.classList.contains('party-mode')) {
            spawn(400);
          } else {
            clearInterval(confettiInterval);
          }
        }, 1000);

        // Start spawning LOTS of emojis
        // Initial burst
        for(let i = 0; i < 30; i++) {
          setTimeout(() => createPartyEmojis(), i * 100);
        }
        
        // Continuous emoji spawning
        emojiInterval = setInterval(() => {
          if (document.body.classList.contains('party-mode')) {
            createPartyEmojis();
            createPartyEmojis();
            createPartyEmojis();
          } else {
            clearInterval(emojiInterval);
          }
        }, 300);

        // Continuous fireworks and sparkles
        fireworksInterval = setInterval(() => {
          if (document.body.classList.contains('party-mode')) {
            createFireworks('fireworksGlobalContainer', 8);
            createSparkles('fireworksGlobalContainer', 60);
          } else {
            clearInterval(fireworksInterval);
          }
        }, 2000);

        // Initial fireworks burst
        createFireworks('fireworksGlobalContainer', 15);
        createSparkles('fireworksGlobalContainer', 100);
      }, 300);
    });

    stopPartyBtn.addEventListener('click', function() {
      // Deactivate party mode
      document.body.classList.remove('party-mode');
      
      // Switch music back - make sure party music stops and bgm plays
      partyMusic.pause();
      partyMusic.currentTime = 0;
      bgm.currentTime = 0;
      bgm.play().catch(err => console.log('BGM play error:', err));
      
      // Stop confetti
      running = false;
      particles = [];
      ctx.clearRect(0, 0, w, h);

      // Clear all intervals
      if (emojiInterval) {
        clearInterval(emojiInterval);
      }
      if (confettiInterval) {
        clearInterval(confettiInterval);
      }
      if (fireworksInterval) {
        clearInterval(fireworksInterval);
      }
      
      // Remove all existing emojis
      document.querySelectorAll('.party-emoji').forEach(emoji => emoji.remove());
      
      // Clear fireworks container
      const fireworksContainer = document.getElementById('fireworksGlobalContainer');
      if (fireworksContainer) {
        fireworksContainer.innerHTML = '';
      }
    });
    // ============ END PARTY MODE FUNCTIONALITY ============
  </script>
</body>
</html>
